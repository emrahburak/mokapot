import React,{useEffect} from 'react';
import {connect} from 'react-redux';
import {GetPosts} from '../../redux';



const PostContainer = ({getPosts,postData})=>{
    useEffect(()=>{
	getPosts();
    },[])

    return postData.loading ? (
	<h2>Loading Posts</h2>
    ): postData.error ? (
	    <h2>{postData.error}</h2>
    ):(
	    <div>
	    {
		postData && postData.posts && postData.posts.map(post => <p>post.title</p>)
	    }
	    </div>)

}


const mapStateToProps = state => {
    return {
	postData: state.posts
    }
}

const mapDispatchToProps = dispatch => {
    return{
	getPosts: ()=> dispatch(GetPosts())
    }
}

export default connect(mapStateToProps,mapDispatchToProps)(PostContainer);
